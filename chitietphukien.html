<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi ti·∫øt s·∫£n ph·∫©m</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header class="product-header">
      <a href="index.html" class="back-btn">‚Üê Quay l·∫°i</a>
    </header>

    <div class="product-page">
      <!-- C·ªôt ·∫£nh -->
      <div class="product-image">
        <img id="product-img" src="image/phukien1.jpg" alt="" />
      </div>

      <!-- C·ªôt n·ªôi dung -->
      <div class="product-info">
        <h2 id="product-name">Thi·ªáp Hoa Kh√¥ K·ªâ Ni·ªám</h2>
        <p>20.000 ƒë·ªìng</p>

        <p class="sub-title">
          M·ªói c√°nh hoa l√† m·ªôt l·ªùi th√¨ th·∫ßm c·ªßa t·∫°o h√≥a, r·∫±ng v·∫ª ƒë·∫πp c√≥ th·ªÉ mong
          manh, nh∆∞ng t√¨nh c·∫£m ch√¢n th·∫≠t l√† vƒ©nh c·ª≠u.
        </p>

        <ul class="product-detail">
          <li>
            <b>√ù Nghƒ©a:</b> T·∫≠p trung v√†o √Ω t∆∞·ªüng "L∆∞u gi·ªØ kho·∫£nh kh·∫Øc v√† t√¨nh
            c·∫£m b·ªÅn ch·∫∑t".
          </li>
          <li>
            M·ªôt b·ª©c th∆∞ t·ª´ t·∫•m l√≤ng gi√∫p g·∫Øn k·∫øt h∆°n t√¨nh c·∫£m c·ªßa b·∫°n v√† nh·ªØng
            ng∆∞·ªùi xung quanh
          </li>
          <li>
            <b>Ph√π h·ª£p:</b> Sinh nh·∫≠t, k·ª∑ ni·ªám, 20/10, ho·∫∑c g·ª≠i t·∫∑ng ng∆∞·ªùi y√™u,
            m·∫π, ch·ªã g√°i.
          </li>
          <li>
            <b>Thi·∫øt k·∫ø:</b> Thi·ªáp Gi·∫•y + L√° + Hoa Kh√¥ Ng·∫´u Nhi√™n + K√≠ T·∫∑ng
          </li>
          <li><b>Chu·∫©n b·ªã:</b> ƒê·∫∑t tr∆∞·ªõc 4 ti·∫øng ‚Äì 1 ng√†y.</li>
        </ul>

        <p class="note">
          (*) S·∫£n ph·∫©m hoa t∆∞∆°i c√≥ th·ªÉ thay ƒë·ªïi nh·∫π theo m√πa. Shop s·∫Ω li√™n h·ªá
          x√°c nh·∫≠n tr∆∞·ªõc khi c·∫Øm.
        </p>

        <div class="quantity-box">
          <label>S·ªë l∆∞·ª£ng:</label>
          <div class="qty-control">
            <button onclick="changeQty(-1)">-</button>
            <input id="qty" type="number" value="1" min="1" />
            <button onclick="changeQty(1)">+</button>
          </div>
        </div>

        <div class="action-wrap">
          <button class="add-cart">üõí Th√™m v√†o gi·ªè</button>
          <button class="buy-now">üå∏ ƒê·∫∂T HOA NGAY</button>
        </div>
      </div>
    </div>

    <script>
      // H√†m thay ƒë·ªïi s·ªë l∆∞·ª£ng
      function changeQty(num) {
        const qtyInput = document.getElementById("qty");
        let qty = parseInt(qtyInput.value) + num;
        if (qty < 1) qty = 1;
        qtyInput.value = qty;
      }

      // H√†m l·∫•y th√¥ng tin s·∫£n ph·∫©m hi·ªán t·∫°i
      function getProductInfo() {
        return {
          name: document.getElementById("product-name").innerText,
          price: 260000, // gi√° c·ªë ƒë·ªãnh v√≠ d·ª•, c√≥ th·ªÉ l·∫•y t·ª´ text
          qty: parseInt(document.getElementById("qty").value),
          img: "image/gau1.jpg", // ho·∫∑c l·∫•y link ·∫£nh t·ª´ trang chi ti·∫øt s·∫£n ph·∫©m
        };
      }

      // Khi nh·∫•n "Th√™m v√†o gi·ªè"
      document
        .querySelector(".add-cart")
        .addEventListener("click", function () {
          const product = getProductInfo();
          let cart = JSON.parse(localStorage.getItem("cart")) || [];

          // Ki·ªÉm tra xem s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè ch∆∞a
          const existing = cart.find((item) => item.name === product.name);
          if (existing) {
            existing.qty += product.qty;
          } else {
            cart.push(product);
          }

          localStorage.setItem("cart", JSON.stringify(cart));
          alert("üõí ƒê√£ th√™m v√†o gi·ªè h√†ng!");
        });

      // Khi nh·∫•n "ƒê·∫∂T HOA NGAY"
      document.querySelector(".buy-now").addEventListener("click", function () {
        const product = getProductInfo();
        // L∆∞u ri√™ng s·∫£n ph·∫©m n√†y ƒë·ªÉ hi·ªÉn th·ªã t·∫°i checkout
        localStorage.setItem("checkoutItem", JSON.stringify(product));
        window.location.href = "checkout.html";
      });
    </script>
  </body>
</html>
