<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>c05.nhahodau.net</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&family=Quicksand:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header>
      <h1 class="logo">ğŸŒ¸ Flower Connect</h1>
      <nav>
        <ul>
          <li><a href="index.html" class="active">Trang chá»§</a></li>
          <li>
            <a href="category-hoatinhyeu.html">Hoa TÃ¬nh YÃªu</a>
          </li>
          <li><a href="category-hoagaubong.html">Hoa Gáº¥u BÃ´ng</a></li>
          <li><a href="category-hoangayle.html">Hoa NgÃ y Lá»…</a></li>
          <li><a href="category-hoagio.html">Hoa Giá»</a></li>
          <li><a href="category-phukien.html">Phá»¥ Kiá»‡n</a></li>
        </ul>
      </nav>
      <div class="auth">
        <a href="login.html" class="btn">ÄÄƒng nháº­p</a>
        <a href="register.html" class="btn">ÄÄƒng kÃ½</a>
      </div>
    </header>

    <!-- ğŸ” Thanh tÃ¬m kiáº¿m -->
    <div class="search-bar">
      <input
        type="text"
        id="searchInput"
        placeholder="TÃ¬m kiáº¿m sáº£n pháº©m..."
        onkeyup="searchFlowers()"
      />
      <p id="noResult" style="display: none">KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m.</p>
    </div>

    <!-- Banner -->
    <div class="promo-banner">
      <h2>ğŸÆ¯u Ä‘Ã£i Ä‘áº·c biá»‡t cho táº¥t cáº£ cÃ¡c sáº£n pháº©mğŸ</h2>
      <p>Giáº£m giÃ¡ 10% cho cÃ¡c Ä‘Æ¡n hÃ ng Ä‘áº§u tiÃªn!</p>
    </div>

    <!-- Gá»£i Ã½ danh má»¥c -->
    <section class="suggest">
      <h2>DANH Má»¤C Sáº¢N PHáº¨M</h2>
    </section>

    <!-- CÃ¡c sáº£n pháº©m ná»•i báº­t (vÃ­ dá»¥ má»—i danh má»¥c 2 sáº£n pháº©m) -->
    <section class="product-container">
      <div class="product">
        <img src="image/hoatinhyeu.jpg" alt="Hoa tÃ¬nh yÃªu" />
        <h3>Hoa TÃ¬nh YÃªu</h3>
        <a href="category-hoatinhyeu.html" class="buy-btn">Xem chi tiáº¿t</a>
      </div>
      <div class="product">
        <img src="image/hoagaubong.jpg" alt="Hoa gáº¥u bÃ´ng" />
        <h3>Hoa Gáº¥u BÃ´ng</h3>
        <a href="category-hoagaubong.html" class="buy-btn">Xem chi tiáº¿t</a>
      </div>

      <div class="product">
        <img src="image/hoangayle.jpg" alt="Hoa NgÃ y Lá»…" />
        <h3>Hoa NgÃ y Lá»…</h3>
        <a href="category-hoangayle.html" class="buy-btn">Xem chi tiáº¿t</a>
      </div>

      <div class="product">
        <img src="image/hoagio.jpg" alt="Hoa Giá»" />
        <h3>Hoa Giá»</h3>

        <a href="category-hoagio.html" class="buy-btn">Xem chi tiáº¿t</a>
      </div>

      <div class="product">
        <img src="image/phukien.jpg" alt="Phá»¥ Kiá»‡n" />
        <h3>Há»™p quÃ  & Phá»¥ kiá»‡n</h3>

        <a href="category-phukien.html" class="buy-btn">Xem chi tiáº¿t</a>
      </div>
    </section>

    <!-- Gá»£i Ã½ danh má»¥c (Nhá»› ghi thÃªm vÃ  chÃ¨n hÃ¬nh nha)-->
    <section class="suggest">
      <h2>DANH Má»¤C Sáº¢N PHáº¨M BÃN CHáº Y</h2>
    </section>
    <section class="product-container">
      <div class="product">
        <img src="image/tinhyeu15.jpg" alt="Há»“ng LÃ£ng Máº¡n" />
        <h3>KhÃºc Ca TÃ¬nh YÃªu</h3>
        <p>GiÃ¡: 450.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'KhÃºc Ca TÃ¬nh YÃªu', '450.000Ä‘', 'image/tinhyeu15.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/gau21.jpg" alt="Gáº¥u Totoro " />
        <h3>Linh Váº­t May Máº¯n</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'Linh Váº­t May Máº¯n', '300.000Ä‘', 'image/gau21.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/ngayle5.jpg" alt="Ly Baby" />
        <h3>VÄ©nh Cá»­u</h3>
        <p>GiÃ¡: 150.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'VÄ©nh Cá»­u', '150.000Ä‘', 'image/ngayle5.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/ngayle12.jpg" alt="Hoa MÃ¹a HÃ¨" />
        <h3>Cáº§u Vá»“ng Ban Mai</h3>
        <p>GiÃ¡: 450.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'Cáº§u VÃ²ng Ban Mai', '450.000Ä‘', 'image/ngayle12.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/ngayle1.jpg" alt="HÆ°á»›ng DÆ°Æ¡ng" />
        <h3>Náº¯ng VÃ ng Rá»±c Rá»¡</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'Náº¯ng VÃ ng Rá»±c Rá»¡', '300.000Ä‘', 'image/ngayle1.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien1.jpg" alt="Thiá»‡p Hoa" />
        <h3>Thiá»‡p Hoa KhÃ´ Ká»· Niá»‡m</h3>
        <p>GiÃ¡: 20.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'Thiá»‡p Hoa KhÃ´ Ká»· Niá»‡m', '20.000Ä‘', 'image/phukien1.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/gau30.jpg" alt="Monsters" />
        <h3>LÃ´ng XÃ¹ ÄÃ¡ng YÃªu</h3>
        <p>GiÃ¡: 600.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'LÃ´ng XÃ¹ ÄÃ¡ng YÃªu', '600.000Ä‘', 'image/gau30.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio9.jpg" alt="Nhung Há»“ng" />
        <h3>VÆ°á»n Nhung Há»“ng</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a
          href="#"
          onclick="checkLoginAndAddToCart(event, 'VÆ°á»n Nhung Há»“ng', '450.000Ä‘', 'image/hoagio9.jpg')"
          class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>
    </section>
    <footer>
      <div class="footer-container">
        <!-- Cá»­a hÃ ng -->
        <div class="footer-column">
          <h3>ğŸŒ¸ Flower Connect</h3>
          <p>Äá»‹a chá»‰: 79 LÃ½ ThÃ¡nh TÃ´ng, TÃ¢n PhÃº, TP.HCM</p>
          <p>Äiá»‡n thoáº¡i: 0794923325</p>
          <p>Email: thienphutontran@gmail.com</p>
        </div>

        <!-- Danh má»¥c -->
        <div class="footer-column">
          <h3>Danh Má»¥c</h3>
          <ul>
            <li><a href="#">Hoa Khai TrÆ°Æ¡ng</a></li>
            <li><a href="#">Hoa Sinh Nháº­t</a></li>
            <li><a href="#">Hoa TÃ¬nh YÃªu</a></li>
            <li><a href="#">BÃ³ Hoa Gáº¥u BÃ´ng</a></li>
          </ul>
        </div>

        <!-- ChÃ­nh sÃ¡ch -->
        <div class="footer-column">
          <h3>ChÃ­nh SÃ¡ch</h3>
          <ul>
            <li><a href="#">ChÃ­nh SÃ¡ch Tráº£ HÃ ng</a></li>
            <li><a href="#">ChÃ­nh SÃ¡ch Báº£o Máº­t</a></li>
            <li><a href="#">ChÃ­nh SÃ¡ch Váº­n Chuyá»ƒn</a></li>
            <li><a href="#">ChÃ­nh SÃ¡ch Thanh ToÃ¡n</a></li>
          </ul>
        </div>

        <!-- Máº¡ng xÃ£ há»™i -->
        <div class="footer-column">
          <h3>Káº¿t Ná»‘i Vá»›i ChÃºng TÃ´i</h3>
          <div class="social-icons">
            <a href="https://facebook.com/FlowerConnect" target="_blank">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/b/b8/2021_Facebook_icon.svg"
              />
            </a>
            <a href="https://instagram.com/FlowerConnect" target="_blank">
              <img
                src="https://upload.wikimedia.org/wikipedia/commons/a/a5/Instagram_icon.png"
              />
            </a>
            <a href="https://zalo.me/0901234567" target="_blank">
              <img src="image/Icon_of_Zalo.svg.webp" />
            </a>
          </div>
        </div>
      </div>

      <p class="footer-copy">Â© 2025 Flower Connect. All rights reserved.</p>
    </footer>

    <!-- Icon giá» hÃ ng nhá» á»Ÿ gÃ³c pháº£i dÆ°á»›i -->
    <a href="cart.html" class="cart-icon-mini" id="cartIconMini">ğŸ›’</a>
    <script>
      function addToCart(name, price, image) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity = (existingItem.quantity || 1) + 1;
        } else {
          cart.push({ name, price, image, quantity: 1 });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        alert(`${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!`);
      }

      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let cartIconMini = document.getElementById("cartIconMini");
        if (cartIconMini) {
          cartIconMini.dataset.count = cart.length > 0 ? cart.length : "";
        }
      }
    </script>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const authDiv = document.querySelector(".auth");
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (currentUser) {
          // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p thÃ¬ áº©n nÃºt ÄÄƒng nháº­p / ÄÄƒng kÃ½
          authDiv.innerHTML = `
              <span class="welcome" id="welcomeUser">Xin chÃ o, ${currentUser.name}</span>
          <button class="btn logout-btn" id="logoutBtn">ÄÄƒng xuáº¥t</button>
        `;

          const welcomeEl = document.getElementById("welcomeUser");
          welcomeEl.style.cursor = "pointer"; // hiá»‡n con trá» tay
          welcomeEl.title = "Xem há»“ sÆ¡ cá»§a báº¡n";
          welcomeEl.addEventListener("click", () => {
            window.location.href = "profile.html";
          });

          // Xá»­ lÃ½ khi báº¥m nÃºt ÄÄƒng xuáº¥t
          document
            .getElementById("logoutBtn")
            .addEventListener("click", function () {
              localStorage.removeItem("currentUser");
              alert("Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t");
              window.location.reload(); // load láº¡i Ä‘á»ƒ hiá»‡n nÃºt Ä‘Äƒng nháº­p
            });
        }
      });
    </script>
    <script>
      // âœ… Khi báº¥m vÃ o áº£nh hoáº·c tÃªn sáº£n pháº©m thÃ¬ chuyá»ƒn sang trang mÃ´ táº£ sáº£n pháº©m riÃªng
      document.addEventListener("DOMContentLoaded", () => {
        const products = document.querySelectorAll(".product");

        products.forEach((el) => {
          const name = el.querySelector("h3").innerText;
          const slug = name.toLowerCase().replace(/\s+/g, "-"); // táº¡o slug tá»« tÃªn
          const image = el.querySelector("img");
          const title = el.querySelector("h3");

          // Khi click áº£nh hoáº·c tÃªn -> sang product-[slug].html
          const goToProduct = () => {
            window.location.href = `product-${slug}.html`;
          };

          if (image) image.addEventListener("click", goToProduct);
          if (title) title.addEventListener("click", goToProduct);
        });
      });
    </script>
    <script>
      // âœ… Kiá»ƒm tra Ä‘Äƒng nháº­p khi báº¥m "Mua ngay" hoáº·c "ThÃªm vÃ o giá»"
      function checkLogin(event) {
        event.preventDefault(); // cháº·n má»Ÿ trang checkout
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          alert("âš ï¸ Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ thá»±c hiá»‡n thao tÃ¡c nÃ y!");
          window.location.href = "login.html";
        } else {
          // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p thÃ¬ cho phÃ©p chuyá»ƒn tá»›i trang thanh toÃ¡n hoáº·c thÃªm giá»
          const target = event.target.getAttribute("href") || "checkout.html";
          window.location.href = target;
        }
      }
    </script>
    <script>
      // ğŸ›’ HÃ m thÃªm sáº£n pháº©m vÃ o giá» hÃ ng
      function addToCart(name, price, image) {
        // Láº¥y giá» hÃ ng hiá»‡n táº¡i trong localStorage (náº¿u chÆ°a cÃ³ thÃ¬ táº¡o máº£ng rá»—ng)
        let cart = JSON.parse(localStorage.getItem("cart")) || [];

        // Kiá»ƒm tra xem sáº£n pháº©m Ä‘Ã£ cÃ³ trong giá» chÆ°a
        const existing = cart.find((item) => item.name === name);

        if (existing) {
          existing.quantity = (existing.quantity || 1) + 1; // tÄƒng sá»‘ lÆ°á»£ng náº¿u Ä‘Ã£ cÃ³
        } else {
          cart.push({ name, price, image, quantity: 1 }); // thÃªm má»›i náº¿u chÆ°a cÃ³
        }

        // LÆ°u láº¡i giá» hÃ ng vÃ o localStorage
        localStorage.setItem("cart", JSON.stringify(cart));

        alert(`${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!`);
      }
    </script>
    <script>
      // ğŸ§© HÃ m káº¿t há»£p: kiá»ƒm tra Ä‘Äƒng nháº­p rá»“i má»›i thÃªm vÃ o giá»
      function checkLoginAndAddToCart(event, name, price, image) {
        event.preventDefault();
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          alert("âš ï¸ Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ thÃªm vÃ o giá» hÃ ng!");
          window.location.href = "login.html";
          return;
        }

        // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p thÃ¬ gá»i hÃ m addToCart
        addToCart(name, price, image);
      }
    </script>
    <!-- ğŸ›’ Giá» mini gÃ³c pháº£i -->
    <a href="cart.html" class="cart-icon-mini" id="cartIconMini">ğŸ›’</a>
    <span id="cartCountBadge" class="cart-count-badge">0</span>

    <script>
      // ğŸ›ï¸ HÃ m thÃªm sáº£n pháº©m vÃ o giá» hÃ ng (khÃ´ng xoÃ¡ code cÅ©)
      function addToCart(name, price, image) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        const existing = cart.find((item) => item.name === name);

        if (existing) {
          existing.quantity = (existing.quantity || 1) + 1;
        } else {
          cart.push({ name, price, image, quantity: 1 });
        }

        localStorage.setItem("cart", JSON.stringify(cart));
        alert(`${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!`);
        updateCartBadge(); // Cáº­p nháº­t sá»‘ hiá»ƒn thá»‹
      }

      // ğŸ” Kiá»ƒm tra Ä‘Äƒng nháº­p trÆ°á»›c khi thÃªm
      function checkLoginAndAddToCart(event, name, price, image) {
        event.preventDefault();
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          alert("âš ï¸ Báº¡n cáº§n Ä‘Äƒng nháº­p Ä‘á»ƒ thÃªm vÃ o giá» hÃ ng!");
          window.location.href = "login.html";
          return;
        }

        addToCart(name, price, image);
      }

      // ğŸ§® HÃ m cáº­p nháº­t sá»‘ lÆ°á»£ng trÃªn huy hiá»‡u giá» mini
      function updateCartBadge() {
        const cart = JSON.parse(localStorage.getItem("cart")) || [];
        let total = 0;
        cart.forEach((item) => {
          total += item.quantity || 1;
        });

        const badge = document.getElementById("cartCountBadge");
        if (total > 0) {
          badge.textContent = total;
          badge.style.display = "block";
        } else {
          badge.style.display = "none";
        }
      }

      // ğŸª„ Khi táº£i trang -> cáº­p nháº­t huy hiá»‡u
      document.addEventListener("DOMContentLoaded", updateCartBadge);
    </script>
  </body>
</html>
