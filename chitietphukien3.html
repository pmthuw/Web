<!DOCTYPE html>

<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi ti·∫øt s·∫£n ph·∫©m</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header class="product-header">
      <a href="index.html" class="back-btn">‚Üê Quay l·∫°i</a>
    </header>

    <div class="product-page">
      <!-- C·ªôt ·∫£nh -->
      <div class="product-image">
        <img id="product-img" src="image/phukien3.jpg" alt="" />
      </div>

      <!-- C·ªôt n·ªôi dung -->
      <div class="product-info">
        <h2 id="product-name">H·ªôp Qu√† G·ªó Sang Tr·ªçng</h2>
        <p>150.000 ƒë·ªìng</p>

        <p class="sub-title">
          M·ªôt m√≥n qu√† qu√Ω gi√° x·ª©ng ƒë√°ng ƒë∆∞·ª£c ƒë·∫∑t trong m·ªôt kh√¥ng gian t∆∞∆°ng
          x·ª©ng.
        </p>

        <ul class="product-detail">
          <li>
            <b>√ù Nghƒ©a:</b> T∆∞·ª£ng tr∆∞ng cho s·ª± tr√¢n tr·ªçng cao nh·∫•t, l√† l·ªùi kh·∫≥ng
            ƒë·ªãnh v·ªÅ m·ªôt **t√¨nh c·∫£m v·ªØng ch·∫Øc v√† l√¢u d√†i** nh∆∞ ch·∫•t li·ªáu g·ªó.
          </li>
          <li>
            G·ªó th√¥ng ho·∫∑c g·ªó s·ªìi ƒë√£ qua x·ª≠ l√Ω, gi·ªØ nguy√™n v√¢n g·ªó t·ª± nhi√™n, kh√¥ng
            ƒë·ªôc h·∫°i v√† th√¢n thi·ªán v·ªõi m√¥i tr∆∞·ªùng.
          </li>
          <li>
            <b>Ph√π h·ª£p:</b> Sinh nh·∫≠t, k·ª∑ ni·ªám, 20/10, ho·∫∑c g·ª≠i t·∫∑ng ng∆∞·ªùi y√™u,
            m·∫π, ch·ªã g√°i.
          </li>
          <li>
            <b>Thi·∫øt k·∫ø:</b> N·∫Øp tr∆∞·ª£t ho·∫∑c b·∫£n l·ªÅ ch·∫Øc ch·∫Øn, b·ªÅ m·∫∑t ƒë∆∞·ª£c m√†i
            nh·∫µn m·ªãn, c√≥ th·ªÉ kh·∫Øc laser th√¥ng ƒëi·ªáp
          </li>
          <li><b>Chu·∫©n b·ªã:</b> ƒê·∫∑t tr∆∞·ªõc 4 ti·∫øng ‚Äì 1 ng√†y.</li>
        </ul>

        <p class="note">
          (*) S·∫£n ph·∫©m hoa t∆∞∆°i c√≥ th·ªÉ thay ƒë·ªïi nh·∫π theo m√πa. Shop s·∫Ω li√™n h·ªá
          x√°c nh·∫≠n tr∆∞·ªõc khi c·∫Øm.
        </p>

        <div class="quantity-box">
          <label>S·ªë l∆∞·ª£ng:</label>
          <div class="qty-control">
            <button onclick="changeQty(-1)">-</button>
            <input id="qty" type="number" value="1" min="1" />
            <button onclick="changeQty(1)">+</button>
          </div>
        </div>

        <div class="action-wrap">
          <button class="add-cart">üõí Th√™m v√†o gi·ªè</button>
          <button class="buy-now">üå∏ ƒê·∫∂T HOA NGAY</button>
        </div>
      </div>
    </div>

    <script>
      // H√†m thay ƒë·ªïi s·ªë l∆∞·ª£ng
      function changeQty(num) {
        const qtyInput = document.getElementById("qty");
        let qty = parseInt(qtyInput.value) + num;
        if (qty < 1) qty = 1;
        qtyInput.value = qty;
      }

      // H√†m l·∫•y th√¥ng tin s·∫£n ph·∫©m hi·ªán t·∫°i
      function getProductInfo() {
        return {
          name: document.getElementById("product-name").innerText,
          price: 260000, // gi√° c·ªë ƒë·ªãnh v√≠ d·ª•, c√≥ th·ªÉ l·∫•y t·ª´ text
          qty: parseInt(document.getElementById("qty").value),
          img: "image/gau1.jpg", // ho·∫∑c l·∫•y link ·∫£nh t·ª´ trang chi ti·∫øt s·∫£n ph·∫©m
        };
      }

      // Khi nh·∫•n "Th√™m v√†o gi·ªè"
      document
        .querySelector(".add-cart")
        .addEventListener("click", function () {
          const product = getProductInfo();
          let cart = JSON.parse(localStorage.getItem("cart")) || [];

          // Ki·ªÉm tra xem s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè ch∆∞a
          const existing = cart.find((item) => item.name === product.name);
          if (existing) {
            existing.qty += product.qty;
          } else {
            cart.push(product);
          }

          localStorage.setItem("cart", JSON.stringify(cart));
          alert("üõí ƒê√£ th√™m v√†o gi·ªè h√†ng!");
        });

      // Khi nh·∫•n "ƒê·∫∂T HOA NGAY"
      document.querySelector(".buy-now").addEventListener("click", function () {
        const product = getProductInfo();
        // L∆∞u ri√™ng s·∫£n ph·∫©m n√†y ƒë·ªÉ hi·ªÉn th·ªã t·∫°i checkout
        localStorage.setItem("checkoutItem", JSON.stringify(product));
        window.location.href = "checkout.html";
      });
    </script>
  </body>
</html>
