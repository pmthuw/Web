<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>c05.nhahodau.net</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&family=Quicksand:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- ğŸŒ¸ Header -->
    <header>
      <h1 class="logo">ğŸŒ¸ Flower Connect</h1>
      <nav>
        <ul>
          <li><a href="index.html">Trang chá»§</a></li>
          <li><a href="category-hoatinhyeu.html">Hoa TÃ¬nh YÃªu</a></li>
          <li><a href="category-hoagaubong.html">Hoa Gáº¥u BÃ´ng</a></li>
          <li><a href="category-hoangayle.html">Hoa NgÃ y Lá»…</a></li>
          <li>
            <a href="category-hoagio.html" class="active">Hoa Giá»</a>
          </li>
          <li><a href="category-phukien.html">Phá»¥ Kiá»‡n</a></li>
        </ul>
      </nav>
      <div class="auth">
        <a href="login.html" class="btn">ÄÄƒng nháº­p</a>
        <a href="register.html" class="btn">ÄÄƒng kÃ½</a>
      </div>
    </header>

    <!-- ğŸ” Thanh tÃ¬m kiáº¿m -->
    <div class="search-bar">
      <input
        type="text"
        id="searchInput"
        placeholder="TÃ¬m kiáº¿m sáº£n pháº©m..."
        onkeyup="searchFlowers()"
      />
      <p id="noResult" style="display: none">KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m.</p>
    </div>

    <!-- ğŸ‰ Banner khuyáº¿n mÃ£i -->
    <div class="promo-banner">
      <h2>ğŸ’ Hoa cho nhá»¯ng khoáº£nh kháº¯c Ä‘Ã¡ng nhá»› ğŸ’</h2>
      <p>Æ¯u Ä‘Ã£i 15% cho hoa cÆ°á»›i vÃ  sinh nháº­t ğŸ‚</p>
    </div>

    <!-- ğŸŒ· Danh sÃ¡ch sáº£n pháº©m Hoa Dá»‹p Äáº·c Biá»‡t -->
    <main class="product-container">
      <div class="product">
        <a href="chitiethoagio1.html">
        <img src="image/hoagio1.jpg" alt="Hoa Giá» 1" />
        <h3>Káº¹o Ngá»t MÃ¹a HÃ¨</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
                <a href="chitiethoagio2.html">
        <img src="image/hoagio2.jpg" alt="Hoa Giá» 2" />
        <h3>Giai Äiá»‡u Pastel</h3>
        <p>GiÃ¡: 400.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio3.jpg" alt="Hoa Giá» 3" />
        <h3>Triá»‡u VÃ¬ Sao Há»“ng</h3>
        <p>GiÃ¡: 650.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio4.jpg" alt="Hoa Giá» 4" />
        <h3>BÃ¬nh Minh Há»“ng</h3>
        <p>GiÃ¡: 200.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio5.jpg" alt="Hoa Giá» 5" />
        <h3>Chiáº¿c Cá»•ng Má»™ng MÆ¡</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio6.jpg" alt="Hoa Giá» 6" />
        <h3>LÃ¢u ÄÃ i NÃºi Lá»­a</h3>
        <p>GiÃ¡: 1.000.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio7.jpg" alt="Hoa Giá» 7" />
        <h3>Ãnh SÃ¡ng Quyá»‡t Quáº¿</h3>
        <p>GiÃ¡: 600.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio8.jpg" alt="Hoa Giá» 8" />
        <h3>MÃ¹a XuÃ¢n Sáº¯c MÃ u</h3>
        <p>GiÃ¡: 600.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio9.jpg" alt="Hoa Giá» 9" />
        <h3>VÆ°á»n Nhung Há»“ng</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio10.jpg" alt="Hoa Giá» 10" />
        <h3>Kho BÃ¡u VÅ© Há»™i</h3>
        <p>GiÃ¡: 700.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio11.jpg" alt="Hoa Giá» 11" />
        <h3>PhÃ¹ VÃ¢n</h3>
        <p>GiÃ¡: 600.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio12.jpg" alt="Hoa Giá» 12" />
        <h3>Rá»±c Rá»¡</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio13.jpg" alt="Hoa Giá» 13" />
        <h3>Nguyá»‡t Quáº¿</h3>
        <p>GiÃ¡: 450.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio14.jpg" alt="Hoa Giá» 14" />
        <h3>Khoáº£ng Trá»i</h3>
        <p>GiÃ¡: 250.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio15.jpg" alt="Hoa Giá» 15" />
        <h3>Báº£n Giao</h3>
        <p>GiÃ¡: 410.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio16.jpg" alt="Hoa Giá» 16" />
        <h3>Náº¯ng áº¤m</h3>
        <p>GiÃ¡: 270.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio17.jpg" alt="Hoa Giá» 17" />
        <h3>Äáº¡i DÆ°Æ¡ng</h3>
        <p>GiÃ¡: 700.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio18.jpg" alt="Hoa Giá» 18" />
        <h3>BÃ³ng Há»“ng</h3>
        <p>GiÃ¡: 300.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio19.jpg" alt="Hoa Giá» 19" />
        <h3>Ngá»c BÃ­ch</h3>
        <p>GiÃ¡: 1.700.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/hoagio20.jpg" alt="Hoa Giá» 20" />
        <h3>Rá»±c Lá»­a</h3>
        <p>GiÃ¡: 500.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btsn"
          >ThÃªm vÃ o giá»</a
        >
      </div>
    </main>
    <!-- ğŸŒ¼ PhÃ¢n trang -->
    <div class="pagination">
      <button id="prevBtn">&lt;</button>
      <span id="pageInfo"></span>
      <button id="nextBtn">&gt;</button>
    </div>

    <!-- Icon giá» hÃ ng nhá» á»Ÿ gÃ³c pháº£i dÆ°á»›i -->
    <a href="cart.html" class="cart-icon-mini" id="cartIconMini">ğŸ›’</a>

    <script>
      function addToCart(name, price, image) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity = (existingItem.quantity || 1) + 1;
        } else {
          cart.push({ name, price, image, quantity: 1 });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        alert(`${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!`);
      }

      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let cartIconMini = document.getElementById("cartIconMini");
        if (cartIconMini) {
          cartIconMini.dataset.count = cart.length > 0 ? cart.length : "";
        }
      }

      document.addEventListener("DOMContentLoaded", updateCartCount);
    </script>
    <script>
      const products = document.querySelectorAll(".product");
      const productsPerPage = 8; // sá»‘ sáº£n pháº©m má»—i trang
      let currentPage = 1;
      const totalPages = Math.ceil(products.length / productsPerPage);

      const pagination = document.querySelector(".pagination");

      function showPage(page) {
        products.forEach((product, index) => {
          product.style.display =
            index >= (page - 1) * productsPerPage &&
            index < page * productsPerPage
              ? "block"
              : "none";
        });
        currentPage = page;
        renderPagination();
        setTimeout(() => window.scrollTo({ top: 0, behavior: "smooth" }), 50);
      }

      function renderPagination() {
        pagination.innerHTML = "";

        const prev = document.createElement("button");
        prev.textContent = "<";
        prev.disabled = currentPage === 1;
        prev.onclick = () => showPage(currentPage - 1);
        pagination.appendChild(prev);

        for (let i = 1; i <= totalPages; i++) {
          const btn = document.createElement("button");
          btn.textContent = i;
          btn.className = i === currentPage ? "active" : "";
          btn.onclick = () => showPage(i);
          pagination.appendChild(btn);
        }

        const next = document.createElement("button");
        next.textContent = ">";
        next.disabled = currentPage === totalPages;
        next.onclick = () => showPage(currentPage + 1);
        pagination.appendChild(next);
      }

      showPage(currentPage);
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const authDiv = document.querySelector(".auth");
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (currentUser) {
          // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p thÃ¬ áº©n nÃºt ÄÄƒng nháº­p / ÄÄƒng kÃ½
          authDiv.innerHTML = `
        <span class="welcome">Xin chÃ o, ${currentUser.name} </span>
        <button class="btn logout-btn" id="logoutBtn">ÄÄƒng xuáº¥t</button>
      `;

          // Xá»­ lÃ½ khi báº¥m nÃºt ÄÄƒng xuáº¥t
          document
            .getElementById("logoutBtn")
            .addEventListener("click", function () {
              localStorage.removeItem("currentUser");
              alert("Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t");
              window.location.reload(); // load láº¡i Ä‘á»ƒ hiá»‡n nÃºt Ä‘Äƒng nháº­p
            });
        }
      });
    </script>
    <script>
      // âœ… Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘Äƒng nháº­p
      function checkLogin(event, action, product = null) {
        event.preventDefault();

        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          // LÆ°u láº¡i trang hiá»‡n táº¡i Ä‘á»ƒ quay láº¡i sau Ä‘Äƒng nháº­p
          localStorage.setItem("redirectAfterLogin", window.location.href);
          alert("âš ï¸ Báº¡n pháº£i Ä‘Äƒng nháº­p trÆ°á»›c khi thá»±c hiá»‡n hÃ nh Ä‘á»™ng nÃ y!");
          window.location.href = "login.html";
          return;
        }

        // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p
        if (action === "buy") {
          window.location.href = "checkout.html";
        } else if (action === "cart" && product) {
          addToCart(product.name, product.price, product.image);
        }
      }

      // âœ… Cáº­p nháº­t cÃ¡c nÃºt "Mua ngay" vÃ  "ThÃªm vÃ o giá»"
      document.addEventListener("DOMContentLoaded", () => {
        const productElements = document.querySelectorAll(".product");

        productElements.forEach((el) => {
          const name = el.querySelector("h3").innerText;
          const price = el.querySelector("p").innerText.replace("GiÃ¡: ", "");
          const image = el.querySelector("img").src;

          const buyBtn = el.querySelector(".buy-btn");
          const cartBtn = el.querySelector(".cart-btn");

          buyBtn.onclick = (e) => checkLogin(e, "buy", { name, price, image });
          cartBtn.onclick = (e) =>
            checkLogin(e, "cart", { name, price, image });
        });
      });
    </script>
  </body>
</html>
