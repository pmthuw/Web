<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>c05.nhahodau.net</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@500&family=Quicksand:wght@400;500&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <!-- ğŸŒ¸ Header -->
    <header class="page-header">
      <h1 class="logo">ğŸŒ¸ Flower Connect</h1>
      <nav>
        <ul>
          <li><a href="index.html">Trang chá»§</a></li>
          <li><a href="category-hoatinhyeu.html">Hoa TÃ¬nh YÃªu</a></li>
          <li><a href="category-hoagaubong.html">Hoa Gáº¥u BÃ´ng</a></li>
          <li><a href="category-hoangayle.html">Hoa NgÃ y Lá»…</a></li>
          <li><a href="category-hoagio.html">Hoa Giá»</a></li>
          <li><a href="javascript:void(0)" class="active">Phá»¥ Kiá»‡n</a></li>
        </ul>
      </nav>
      <div class="auth">
        <a href="login.html" class="btn">ÄÄƒng nháº­p</a>
        <a href="register.html" class="btn">ÄÄƒng kÃ½</a>
      </div>
    </header>

    <!-- ğŸ” Thanh tÃ¬m kiáº¿m -->
    <div class="search-bar">
      <input
        type="text"
        id="searchInput"
        placeholder="TÃ¬m kiáº¿m sáº£n pháº©m..."
        onkeyup="searchFlowers()"
      />
      <p id="noResult" style="display: none">KhÃ´ng tÃ¬m tháº¥y sáº£n pháº©m.</p>
    </div>

    <!-- ğŸ‰ Banner khuyáº¿n mÃ£i -->
    <div class="promo-banner">
      <h2>ğŸ€ Phá»¥ kiá»‡n lÃ m Ä‘áº¹p bÃ³ hoa cá»§a báº¡n ğŸ€</h2>
      <p>Mua 2 táº·ng 1 cho táº¥t cáº£ phá»¥ kiá»‡n trong tuáº§n nÃ y ğŸ›’</p>
    </div>

    <!-- ğŸŒ· Danh sÃ¡ch sáº£n pháº©m Phá»¥ Kiá»‡n -->
    <main class="product-container">
      <div class="product">
        <a href="chitietphukien.html">
          <img src="image/phukien1.jpg" alt="Phá»¥ Kiá»‡n 1" />
          <h3>Thiá»‡p Hoa KhÃ´ Ká»‰ Niá»‡m</h3>
        </a>
        <p>GiÃ¡: 20.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien2.html">
          <img src="image/phukien2.jpg" alt="Phá»¥ Kiá»‡n 2" />
          <h3>Thiá»‡p ChÃºc Má»«ng Hoa VÄƒn</h3>
        </a>
        <p>GiÃ¡: 20.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien3.html">
          <img src="image/phukien3.jpg" alt="Phá»¥ Kiá»‡n 3" />
          <h3>Há»™p quÃ  gá»— sang trá»ng</h3>
        </a>
        <p>GiÃ¡: 150.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien4.html">
          <img src="image/phukien4.jpg" alt="Phá»¥ Kiá»‡n 4" />
          <h3>TÃºi giáº¥y hoa vÄƒn cao cáº¥p</h3></a
        >
        <p>GiÃ¡: 30.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien5.html">
          <img src="image/phukien5.jpg" alt="Phá»¥ Kiá»‡n 5" />
          <h3>NÆ¡ Äá»</h3></a
        >
        <p>GiÃ¡: 25.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien6.html">
          <img src="image/phukien6.jpg" alt="Phá»¥ Kiá»‡n 6" />
          <h3>BÃ¬nh gá»‘m nhá» trang trÃ­</h3></a
        >
        <p>GiÃ¡: 200.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <a href="chitietphukien7.html">
          <img src="image/phukien7.jpg" alt="Phá»¥ Kiá»‡n 7" />
          <h3>KhÄƒn lá»¥a bá»c hoa</h3></a
        >
        <p>GiÃ¡: 80.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien8.jpg" alt="Phá»¥ Kiá»‡n 8" />
        <h3>Há»™p quÃ  trÃ¡i tim lÃ£ng máº¡n</h3>
        <p>GiÃ¡: 120.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien9.jpg" alt="Phá»¥ Kiá»‡n 9" />
        <h3>ÄÃ¨n LED trang trÃ­ bÃ³ hoa</h3>
        <p>GiÃ¡: 60.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien10.jpg" alt="Phá»¥ Kiá»‡n 10" />
        <h3>Lá» Hoa Thá»§y Tinh</h3>
        <p>GiÃ¡: 50.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien11.jpg" alt="Phá»¥ Kiá»‡n 11" />
        <h3>Há»™p quÃ  láº¥p lÃ¡nh</h3>
        <p>GiÃ¡: 150.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien12.jpg" alt="Phá»¥ Kiá»‡n 12" />
        <h3>Náº¿n ThÆ¡m Vá» SÃ²</h3>
        <p>GiÃ¡: 150.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien13.jpg" alt="Phá»¥ Kiá»‡n 13" />
        <h3>Ly Æ°á»›c nguyá»‡n</h3>
        <p>GiÃ¡: 205.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien14.jpg" alt="Phá»¥ Kiá»‡n 14" />
        <h3>Káº¹p cÃºc Ã¡o</h3>
        <p>GiÃ¡: 50.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien15.jpg" alt="Phá»¥ Kiá»‡n 15" />
        <h3>Ruy bÄƒng trong suá»‘t</h3>
        <p>GiÃ¡: 60.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien16.jpg" alt="Phá»¥ Kiá»‡n 16" />
        <h3>Thiá»‡p hoa giáº¥y</h3>
        <p>GiÃ¡: 30.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien17.jpg" alt="Phá»¥ Kiá»‡n 17" />
        <h3>ChuÃ´ng giÃ³ hoa</h3>
        <p>GiÃ¡: 85.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien18.jpg" alt="Phá»¥ Kiá»‡n 18" />
        <h3>Khung hoa</h3>
        <p>GiÃ¡: 150.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien19.jpg" alt="Phá»¥ Kiá»‡n 19" />
        <h3>Thiá»‡p Ä‘a sáº¯c</h3>
        <p>GiÃ¡: 35.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien20.jpg" alt="Phá»¥ Kiá»‡n 20" />
        <h3>DÃ¡n Hoa Ä‘Ã o</h3>
        <p>GiÃ¡: 15.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien21.jpg" alt="Phá»¥ Kiá»‡n 21" />
        <h3>DÃ¢y Tua rua</h3>
        <p>GiÃ¡: 35.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>

      <div class="product">
        <img src="image/phukien22.jpg" alt="Phá»¥ Kiá»‡n 22" />
        <h3>CÃ nh Hoa</h3>
        <p>GiÃ¡: 25.000Ä‘</p>
        <a href="checkout.html" onclick="checkLogin(event)" class="buy-btn"
          >Mua ngay</a
        >
        <a href="checkout.html" onclick="checkLogin(event)" class="cart-btn"
          >ThÃªm vÃ o giá»</a
        >
      </div>
    </main>
    <!-- ğŸŒ¼ PhÃ¢n trang -->
    <div class="pagination">
      <button id="prevBtn">&lt;</button>
      <span id="pageInfo"></span>
      <button id="nextBtn">&gt;</button>
    </div>

    <!-- Icon giá» hÃ ng nhá» á»Ÿ gÃ³c pháº£i dÆ°á»›i -->
    <a href="cart.html" class="cart-icon-mini" id="cartIconMini">ğŸ›’</a>

    <script>
      function addToCart(name, price, image) {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let existingItem = cart.find((item) => item.name === name);
        if (existingItem) {
          existingItem.quantity = (existingItem.quantity || 1) + 1;
        } else {
          cart.push({ name, price, image, quantity: 1 });
        }
        localStorage.setItem("cart", JSON.stringify(cart));
        updateCartCount();
        alert(`${name} Ä‘Ã£ Ä‘Æ°á»£c thÃªm vÃ o giá» hÃ ng!`);
      }

      function updateCartCount() {
        let cart = JSON.parse(localStorage.getItem("cart")) || [];
        let cartIconMini = document.getElementById("cartIconMini");
        if (cartIconMini) {
          cartIconMini.dataset.count = cart.length > 0 ? cart.length : "";
        }
      }

      document.addEventListener("DOMContentLoaded", updateCartCount);
    </script>
    <script>
      const products = document.querySelectorAll(".product");
      const productsPerPage = 8; // sá»‘ sáº£n pháº©m má»—i trang
      let currentPage = 1;
      const totalPages = Math.ceil(products.length / productsPerPage);

      const pagination = document.querySelector(".pagination");

      function showPage(page) {
        products.forEach((product, index) => {
          product.style.display =
            index >= (page - 1) * productsPerPage &&
            index < page * productsPerPage
              ? "block"
              : "none";
        });
        currentPage = page;
        renderPagination();
        setTimeout(() => window.scrollTo({ top: 0, behavior: "smooth" }), 50);
      }

      function renderPagination() {
        pagination.innerHTML = "";

        const prev = document.createElement("button");
        prev.textContent = "<";
        prev.disabled = currentPage === 1;
        prev.onclick = () => showPage(currentPage - 1);
        pagination.appendChild(prev);

        for (let i = 1; i <= totalPages; i++) {
          const btn = document.createElement("button");
          btn.textContent = i;
          btn.className = i === currentPage ? "active" : "";
          btn.onclick = () => showPage(i);
          pagination.appendChild(btn);
        }

        const next = document.createElement("button");
        next.textContent = ">";
        next.disabled = currentPage === totalPages;
        next.onclick = () => showPage(currentPage + 1);
        pagination.appendChild(next);
      }

      showPage(currentPage);
    </script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const authDiv = document.querySelector(".auth");
        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (currentUser) {
          // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p thÃ¬ áº©n nÃºt ÄÄƒng nháº­p / ÄÄƒng kÃ½
          authDiv.innerHTML = `
        <span class="welcome">Xin chÃ o, ${currentUser.name} </span>
        <button class="btn logout-btn" id="logoutBtn">ÄÄƒng xuáº¥t</button>
      `;

          // Xá»­ lÃ½ khi báº¥m nÃºt ÄÄƒng xuáº¥t
          document
            .getElementById("logoutBtn")
            .addEventListener("click", function () {
              localStorage.removeItem("currentUser");
              alert("Báº¡n Ä‘Ã£ Ä‘Äƒng xuáº¥t");
              window.location.reload(); // load láº¡i Ä‘á»ƒ hiá»‡n nÃºt Ä‘Äƒng nháº­p
            });
        }
      });
    </script>
    <script>
      // âœ… Kiá»ƒm tra tráº¡ng thÃ¡i Ä‘Äƒng nháº­p
      function checkLogin(event, action, product = null) {
        event.preventDefault();

        const currentUser = JSON.parse(localStorage.getItem("currentUser"));

        if (!currentUser) {
          // LÆ°u láº¡i trang hiá»‡n táº¡i Ä‘á»ƒ quay láº¡i sau Ä‘Äƒng nháº­p
          localStorage.setItem("redirectAfterLogin", window.location.href);
          alert("âš ï¸ Báº¡n pháº£i Ä‘Äƒng nháº­p trÆ°á»›c khi thá»±c hiá»‡n hÃ nh Ä‘á»™ng nÃ y!");
          window.location.href = "login.html";
          return;
        }

        // Náº¿u Ä‘Ã£ Ä‘Äƒng nháº­p
        if (action === "buy") {
          window.location.href = "checkout.html";
        } else if (action === "cart" && product) {
          addToCart(product.name, product.price, product.image);
        }
      }

      // âœ… Cáº­p nháº­t cÃ¡c nÃºt "Mua ngay" vÃ  "ThÃªm vÃ o giá»"
      document.addEventListener("DOMContentLoaded", () => {
        const productElements = document.querySelectorAll(".product");

        productElements.forEach((el) => {
          const name = el.querySelector("h3").innerText;
          const price = el.querySelector("p").innerText.replace("GiÃ¡: ", "");
          const image = el.querySelector("img").src;

          const buyBtn = el.querySelector(".buy-btn");
          const cartBtn = el.querySelector(".cart-btn");

          buyBtn.onclick = (e) => checkLogin(e, "buy", { name, price, image });
          cartBtn.onclick = (e) =>
            checkLogin(e, "cart", { name, price, image });
        });
      });
    </script>
  </body>
</html>
