<!DOCTYPE html>

<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chi ti·∫øt s·∫£n ph·∫©m</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <header class="product-header">
      <a href="index.html" class="back-btn">‚Üê Quay l·∫°i</a>
    </header>

    <div class="product-page">
      <!-- C·ªôt ·∫£nh -->
      <div class="product-image">
        <img id="product-img" src="image/phukien5.jpg" alt="" />
      </div>

      <!-- C·ªôt n·ªôi dung -->
      <div class="product-info">
        <h2 id="product-name">N∆° ƒê·ªè</h2>
        <p>25.000 ƒë·ªìng</p>

        <p class="sub-title">
          Ch·∫°m kh·∫Øc c·∫£m x√∫c ‚Äì Ho√†n thi·ªán m√≥n qu√† b·∫±ng t√¨nh y√™u
        </p>

        <ul class="product-detail">
          <li>
            <b>√ù Nghƒ©a:</b> T∆∞·ª£ng tr∆∞ng cho t√¨nh y√™u n·ªìng ch√°y, s·ª± may m·∫Øn v√†
            l·ªùi ch√∫c nhi·ªát huy·∫øt nh·∫•t.
          </li>
          <li>
            N∆° ƒë∆∞·ª£c th·∫Øt s·∫µn th·ªß c√¥ng v·ªõi k√≠ch c·ª° ti√™u chu·∫©n, ƒë·∫£m b·∫£o form d√°ng
            ƒë·∫πp v√† ch·∫Øc ch·∫Øn, d·ªÖ d√†ng g·∫Øn k√®m.
          </li>

          <li>
            <b>Ch·∫•t li·ªáu:</b>
            Ruy bƒÉng l·ª•a Satin ho·∫∑c Velvet cao c·∫•p, m·ªÅm m·∫°i, c√≥ ƒë·ªô b√≥ng ƒë·∫πp v√†
            ƒë·ª©ng d√°ng khi th·∫Øt.
          </li>
          <li>
            <b>Ph√π h·ª£p:</b> Sinh nh·∫≠t, k·ª∑ ni·ªám, 20/10, ho·∫∑c g·ª≠i t·∫∑ng ng∆∞·ªùi y√™u,
            m·∫π, ch·ªã g√°i.
          </li>
          <li>
            <b>Thi·∫øt k·∫ø:</b> T√∫i ƒë∆∞·ª£c ƒë√≥ng g√≥i ph·∫≥ng, d·ªÖ d√†ng v·∫≠n chuy·ªÉn v√† l·∫Øp
            r√°p. ƒê·∫£m b·∫£o m√≥n qu√† c·ªßa b·∫°n lu√¥n ƒë∆∞·ª£c b·∫£o v·ªá an to√†n v√† trang
            tr·ªçng.
          </li>
          <li><b>Chu·∫©n b·ªã:</b> ƒê·∫∑t tr∆∞·ªõc 4 ti·∫øng ‚Äì 1 ng√†y.</li>
        </ul>

        <p class="note">
          (*) S·∫£n ph·∫©m hoa t∆∞∆°i c√≥ th·ªÉ thay ƒë·ªïi nh·∫π theo m√πa. Shop s·∫Ω li√™n h·ªá
          x√°c nh·∫≠n tr∆∞·ªõc khi c·∫Øm.
        </p>

        <div class="quantity-box">
          <label>S·ªë l∆∞·ª£ng:</label>
          <div class="qty-control">
            <button onclick="changeQty(-1)">-</button>
            <input id="qty" type="number" value="1" min="1" />
            <button onclick="changeQty(1)">+</button>
          </div>
        </div>

        <div class="action-wrap">
          <button class="add-cart">üõí Th√™m v√†o gi·ªè</button>
          <button class="buy-now">üå∏ ƒê·∫∂T HOA NGAY</button>
        </div>
      </div>
    </div>

    <script>
      // H√†m thay ƒë·ªïi s·ªë l∆∞·ª£ng
      function changeQty(num) {
        const qtyInput = document.getElementById("qty");
        let qty = parseInt(qtyInput.value) + num;
        if (qty < 1) qty = 1;
        qtyInput.value = qty;
      }

      // H√†m l·∫•y th√¥ng tin s·∫£n ph·∫©m hi·ªán t·∫°i
      function getProductInfo() {
        return {
          name: document.getElementById("product-name").innerText,
          price: 260000, // gi√° c·ªë ƒë·ªãnh v√≠ d·ª•, c√≥ th·ªÉ l·∫•y t·ª´ text
          qty: parseInt(document.getElementById("qty").value),
          img: "image/gau1.jpg", // ho·∫∑c l·∫•y link ·∫£nh t·ª´ trang chi ti·∫øt s·∫£n ph·∫©m
        };
      }

      // Khi nh·∫•n "Th√™m v√†o gi·ªè"
      document
        .querySelector(".add-cart")
        .addEventListener("click", function () {
          const product = getProductInfo();
          let cart = JSON.parse(localStorage.getItem("cart")) || [];

          // Ki·ªÉm tra xem s·∫£n ph·∫©m ƒë√£ c√≥ trong gi·ªè ch∆∞a
          const existing = cart.find((item) => item.name === product.name);
          if (existing) {
            existing.qty += product.qty;
          } else {
            cart.push(product);
          }

          localStorage.setItem("cart", JSON.stringify(cart));
          alert("üõí ƒê√£ th√™m v√†o gi·ªè h√†ng!");
        });

      // Khi nh·∫•n "ƒê·∫∂T HOA NGAY"
      document.querySelector(".buy-now").addEventListener("click", function () {
        const product = getProductInfo();
        // L∆∞u ri√™ng s·∫£n ph·∫©m n√†y ƒë·ªÉ hi·ªÉn th·ªã t·∫°i checkout
        localStorage.setItem("checkoutItem", JSON.stringify(product));
        window.location.href = "checkout.html";
      });
    </script>
  </body>
</html>
