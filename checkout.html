<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thanh to√°n - Flower Connect</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      body {
        font-family: "Quicksand", sans-serif;
        background-color: #fff8f9;
        margin: 0;
        padding: 0;
      }

      .checkout-container {
        max-width: 900px;
        margin: 50px auto;
        background: #fff;
        padding: 30px;
        border-radius: 16px;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
      }

      h2 {
        text-align: center;
        color: #e91e63;
        margin-bottom: 30px;
      }

      .checkout-section {
        margin-bottom: 30px;
      }

      label {
        display: block;
        margin-bottom: 8px;
        font-weight: 600;
      }

      input, textarea, select {
        width: 100%;
        padding: 10px;
        border: 1px solid #ccc;
        border-radius: 8px;
        margin-bottom: 15px;
        font-size: 15px;
      }

      .order-summary {
        border-top: 2px solid #f1f1f1;
        padding-top: 20px;
      }

      .summary-item {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
      }

      .total {
        font-weight: bold;
        font-size: 18px;
        color: #e91e63;
      }

      .checkout-btn {
        display: block;
        width: 100%;
        padding: 15px;
        font-size: 16px;
        background-color: #e91e63;
        color: white;
        border: none;
        border-radius: 10px;
        cursor: pointer;
        transition: 0.3s;
      }

      .checkout-btn:hover {
        background-color: #d81b60;
      }

      .back {
        display: inline-block;
        margin-top: 15px;
        color: #555;
        text-decoration: none;
      }

      .back:hover {
        color: #e91e63;
      }
    </style>
  </head>

  <body>
    <div class="checkout-container">
      <h2>Thanh To√°n ƒê∆°n H√†ng</h2>

      <!-- Th√¥ng tin ng∆∞·ªùi mua -->
      <div class="checkout-section">
        <h3>üßç‚Äç‚ôÄÔ∏è Th√¥ng tin kh√°ch h√†ng</h3>
        <label>H·ªç v√† t√™n:</label>
        <input type="text" id="fullname" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n" required />

        <label>S·ªë ƒëi·ªán tho·∫°i:</label>
        <input type="tel" id="phone" placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i" required />

        <label>ƒê·ªãa ch·ªâ giao h√†ng:</label>
        <textarea id="address" rows="3" placeholder="Nh·∫≠p ƒë·ªãa ch·ªâ chi ti·∫øt" required></textarea>
      </div>

      <!-- Ph∆∞∆°ng th·ª©c thanh to√°n -->
      <div class="checkout-section">
        <h3>üí≥ Ph∆∞∆°ng th·ª©c thanh to√°n</h3>
        <select id="payment">
          <option value="cod">Thanh to√°n khi nh·∫≠n h√†ng (COD)</option>
          <option value="momo">V√≠ MoMo</option>
          <option value="bank">Chuy·ªÉn kho·∫£n ng√¢n h√†ng</option>
        </select>
      </div>

      <!-- T√≥m t·∫Øt ƒë∆°n h√†ng -->
      <div class="checkout-section order-summary">
        <h3>üõçÔ∏è ƒê∆°n h√†ng c·ªßa b·∫°n</h3>
        <div id="order-items">
          <!-- S·∫£n ph·∫©m s·∫Ω ƒë∆∞·ª£c load b·∫±ng JS -->
        </div>
        <div class="summary-item total">
          <span>T·ªïng c·ªông:</span>
          <span id="total-price">0ƒë</span>
        </div>
      </div>

      <button class="checkout-btn" onclick="confirmOrder()">X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
      <a href="index.html" class="back">‚Üê Quay l·∫°i trang ch·ªß</a>
    </div>

    <script>
      // L·∫•y th√¥ng tin s·∫£n ph·∫©m t·ª´ localStorage (n·∫øu c√≥)
      const cart = JSON.parse(localStorage.getItem("cart")) || [];
      const orderContainer = document.getElementById("order-items");
      const totalEl = document.getElementById("total-price");

      if (cart.length === 0) {
        orderContainer.innerHTML = "<p>Gi·ªè h√†ng tr·ªëng!</p>";
      } else {
        let total = 0;
        cart.forEach((item) => {
          const itemDiv = document.createElement("div");
          itemDiv.classList.add("summary-item");
          itemDiv.innerHTML = `
            <span>${item.name} x ${item.quantity}</span>
            <span>${(item.price * item.quantity).toLocaleString()}ƒë</span>
          `;
          orderContainer.appendChild(itemDiv);
          total += item.price * item.quantity;
        });
        totalEl.textContent = total.toLocaleString() + "ƒë";
      }

      // X√°c nh·∫≠n ƒë·∫∑t h√†ng
      function confirmOrder() {
        const name = document.getElementById("fullname").value.trim();
        const phone = document.getElementById("phone").value.trim();
        const address = document.getElementById("address").value.trim();

        if (!name || !phone || !address) {
          alert("Vui l√≤ng ƒëi·ªÅn ƒë·∫ßy ƒë·ªß th√¥ng tin!");
          return;
        }

        alert("üéâ ƒê·∫∑t h√†ng th√†nh c√¥ng! C·∫£m ∆°n b·∫°n ƒë√£ mua t·∫°i Flower Connect üíê");
        localStorage.removeItem("cart");
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>